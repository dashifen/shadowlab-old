var Globals=Class.extend({init:function(){var a=$("form.searchbar");a.length&&(a.on("searchbar:after",this.zebra),a.on("searchbar:reset",this.zebra)),this.dialog=$("#dialog").dialog({close:function(){$("#dialog .observed").off(".dialog")},draggable:!1,resizable:!1,autoOpen:!1,closeOnEscape:!1,modal:!0,height:"auto",maxHeight:600,width:600}),$("a.dialog").click($.proxy(this.loadDialog,this)),$("form[method=post]").each(this.setPostFlag)},zebra:function(){$("table.searchable tbody tr:visible").each(function(a){var t=$(this),o=t.next("tr"),e=a%2==0?"odd":"even",i="odd"==e?"even":"odd";t.removeClass(i).addClass(e),o.removeClass(i).addClass(e)})},loadDialog:function(a){a.stopPropagation(),a.preventDefault();var t=$(a.target),o=$.url(t.attr("href")),e=o.param().name,i=o.param().title,l=o.attr("path")+" #"+e;this.dialog.load(l,null,function(){this.dialog.dialog("option","title",i),this.dialog.dialog("option","dialogClass",""),this.dialog.dialog("open")}.bind(this))},setPostFlag:function(a,t){if(!t.isPost){var o=$('<input type="hidden" id="isPost" name="isPost" value="true">');$(t).append(o)}}});$(document).ready(function(){Globals=new Globals});