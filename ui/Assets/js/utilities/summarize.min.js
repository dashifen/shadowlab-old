var Summarize=Class.extend({init:function(){$("table.summarized").click(function(e,t){var a=$(t?t:e.target);if(a.is("tr.summary th a")){var r=a.parents("tr"),s=r.nextUntil("tr:not(.description)"),i=s.hasClass("hidden");return s.toggleClass("hidden",!i),r.toggleClass("clicked",i).toggleClass("b",!i),e.stopPropagation(),e.preventDefault(),!1}}),$("form.searchbar").on("searchbar:after",this.hide_descriptions),$("form.searchbar").on("searchbar:reset",this.hide_descriptions)},hide_descriptions:function(){$("table.searchable tr.description").each(function(){$(this).prev("tr").hasClass("clicked")||$(this).addClass("hidden")})}});$(document).ready(function(){Summarize=new Summarize});